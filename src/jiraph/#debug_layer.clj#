(ns jiraph.debug-layer
  (:use [useful.experimental :only [protocol-stub]])
  (:require jiraph.layer retro.core))



(defrecord MasaiLayer [db format meta-format]

  retro.core/WrappedTransactional

  (txn-wrap [layer f]
    (retro.core/wrapped-txn f db))

  retro.core/Revisioned

  (get-revision [layer]
    (get-property layer :rev))

  (set-revision! [layer rev]
    (set-property! layer :rev rev)))
